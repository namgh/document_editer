# document_editer

## 프로젝트명

문서 편집 자동화 서비스 (가칭)

---

## 개요

다양한 형식의 문서(PDF, HWP, DOC, HWPX, DOCX, PPT, PPTX, 이미지, TXT)를 웹 기반으로 업로드하고, 특정 단어 혹은 패턴을 찾아 자동으로 수정한 뒤 원본 형식으로 다시 저장할 수 있는 문서 편집 서비스이다.

---

## 목표

- 사용자가 문서를 업로드 후, 간단한 설정만으로 문서 내 특정 단어/패턴을 일괄 수정할 수 있도록 한다.
- 문서 내 텍스트 뿐 아니라 이미지도 추출하고 편집할 수 있도록 한다.
- 다수의 문서 포맷을 지원하여 실무에서 활용성을 높인다.
- 빠른 처리 속도와 안정적인 서비스 제공

---

## 주요 기능 (시나리오 기반 정리)

1. 사용자가 문서를 업로드한다.
2. 서버가 문서를 수신 후, UUID를 생성하여 파일을 특정 경로에 저장한다.
3. 저장된 문서에서 각 페이지별로 텍스트와 이미지를 추출한다.
4. 사용자가 입력한 특정 단어 또는 정규표현식 패턴을 기반으로 문서 내 내용을 수정한다.
5. 수정된 내용을 기존 문서 포맷으로 다시 병합 및 저장한다.
6. 수정된 문서를 다운로드할 수 있도록 제공한다.
7. (선택) 수정 이력 로그를 남겨 추후 관리할 수 있도록 한다.

## 대안 2

1. 유저가 문서를 업로드
2. 서버:
    - 문서 파싱
    - 텍스트 + 이미지 + 좌표 → JSON 생성
3. 클라이언트:
    - JSON 받아 문서 페이지 렌더링
    - 텍스트/이미지 각각 영역으로 표시
4. 유저:
    - 텍스트 클릭 → 사이드패널에서 수정
    - 이미지 클릭 → 사이드패널에서 교체, OCR 실행 가능
5. 수정 완료 → 저장
6. 서버:
    - 수정된 JSON 기반으로 문서 재생성
    - 원본 포맷으로 export
7. 유저가 다운로드

---

## 사용 기술 스택

- **백엔드**
    - Python (FastAPI)
    - 문서 처리 라이브러리
        - PDF: PyMuPDF, pdfminer, pdfplumber 등
        - HWP/HWXP: pyhwp, Hancom API 등
        - DOC/DOCX/PPT/PPTX: python-docx, python-pptx 등
        - 이미지 처리: PIL, OpenCV, Tesseract (OCR)
- **데이터**
    - UUID 기반 파일 관리
- **배포**
    - Docker (optional)
    - Nginx (optional)
- **기타**
    - GitHub (버전 관리)
    - Notion (문서 관리)

---

## 문서 포맷별 고려사항

| 포맷 | 지원 여부 | 고려사항 |
| --- | --- | --- |
| PDF | O | 페이지 단위 추출, 레이아웃 유지 여부 |
| HWP | O | 라이브러리 제약, 한글 전용 라이브러리 필요 |
| DOCX | O | Word 오브젝트 추출 (텍스트, 이미지 구분) |
| PPTX | O | 슬라이드 단위 추출, 이미지 레이어 구분 |
| 이미지 | O | OCR 필요 여부 |
| TXT | O | 단순 텍스트 처리 |

---

## 예상 사용자 시나리오 (User Flow)

- [ ]  사용자 회원가입/로그인 여부 (익명으로 할지 선택)
- [ ]  문서 업로드
- [ ]  패턴/단어 입력
- [ ]  미리보기 (optional)
- [ ]  수정 후 문서 다운로드
- [ ]  이력 관리 (optional)

---

## 고려할 기술적 이슈

- HWP, HWXP는 오픈소스 라이브러리 한계가 있으므로 상용 API 검토 필요
- OCR 정확도 (이미지 내 텍스트 추출)
- 문서 레이아웃 유지 여부
- 대용량 파일 처리 속도
- 한글 폰트 깨짐 방지
- 특수문자, 수식, 표 처리

---

## 일정 (예시)

| 주차 | 내용 |
| --- | --- |
| 1주차 | 프로젝트 구조 설계, 기술 조사 |
| 2주차 | 파일 업로드/저장 기능 개발 |
| 3주차 | 각 포맷별 추출 기능 개발 |
| 4주차 | 텍스트 수정 기능 개발 |
| 5주차 | 문서 재조합, 다운로드 기능 개발 |
| 6주차 | 테스트, 배포 |

---

## 추후 추가하고 싶은 기능

- 문서 비교 기능 (수정 전/후)
- 수정 이력 관리
- 웹 기반 문서 뷰어
- 사용자 맞춤 패턴 사전
- 협업 기능 (공동 편집)
- API 제공 (B2B 연동)

---

## 레퍼런스

- PyMuPDF
- python-docx
- python-pptx
- pdfminer
- OCR (Tesseract)
- pyhwp
